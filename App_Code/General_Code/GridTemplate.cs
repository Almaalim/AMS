using System;
using System.Data;
using System.Web.UI;
using System.Web.UI.WebControls;

public class GridTemplate : ITemplate
{
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    DBFun   DBCs   = new DBFun();
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    private string colname;
    public GridTemplate(string colname)
    {
        this.colname = colname;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    public void InstantiateIn(Control container)
    {
        Label _lbl = new Label();

        _lbl.DataBinding += new EventHandler(this.OnDataBinding);
        _lbl.ID = "lbl" + colname;
        _lbl.Width = 20;
        //_lbl.CssClass = "popup";
        container.Controls.Add(_lbl);
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    public void OnDataBinding(object sender, EventArgs e)
    {
        Label _lbl = (Label)sender;
        GridViewRow container = (GridViewRow)_lbl.NamingContainer;
        _lbl.Text = ((DataRowView)container.DataItem)[colname].ToString();
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}